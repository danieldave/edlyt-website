<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Quick Report Builder — Simple + Smart</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <main class="app">
    <header class="app-header">
      <div class="brand">
        <h1>Quick Report Builder</h1>
        <p class="muted">Type items + prices → auto-categorize → print or export</p>
      </div>
      <div class="actions-small">
        <button id="printBtn" class="btn">Print</button>
        <button id="downloadBtn" class="btn ghost">Download HTML</button>
      </div>
    </header>

    <section class="workspace">
      <aside class="panel panel-left">
        <h2>1. Category Setup</h2>
        <p class="muted">Add categories and the keywords that belong to each (comma-separated). Use <code>*</code> to catch-all. Saved locally.</p>

        <form id="categoryForm" class="category-form" autocomplete="off">
          <input id="catName" placeholder="Category name (e.g. Groceries)" required />
          <input id="catKeywords" placeholder="Keywords (comma separated, e.g. rice,soap,milo)" />
          <div class="row">
            <button type="submit" class="btn">Add category</button>
            <button id="resetCats" type="button" class="btn ghost">Reset defaults</button>
          </div>
        </form>

        <div id="categoriesList" class="categories-list"></div>

        <hr />

        <h2>2. Item Entry</h2>
        <p class="muted">Paste a list — each line: item name and price. Examples: <code>Pen - 200</code>, <code>Rice 1,200</code>, <code>Milo: ₦900</code></p>
        <textarea id="itemsInput" rows="10" placeholder="Pen - 200&#10;Rice 1,200&#10;Transport: 300"></textarea>
        <div class="row">
          <select id="viewMode" title="Choose report view">
            <option value="detailed">Detailed Report (grouped + category totals)</option>
            <option value="simple">Simple List (grouped only)</option>
            <option value="accounting">Accounting Table (aligned rows + totals)</option>
          </select>
          <button id="generateBtn" class="btn primary">Generate Report</button>
        </div>

        <div class="small-notes">
          <strong>Hints:</strong>
          <ul>
            <li>Lines without prices will appear under "Invalid / Unparsed".</li>
            <li>Keywords match case-insensitively and by inclusion (e.g. "soap" matches "handsoap").</li>
            <li>Use <code>*</code> as category keyword to make a catch-all category placed last.</li>
          </ul>
        </div>
      </aside>

      <section class="panel panel-right">
        <div class="report-header">
          <h2>Report Preview</h2>
          <div class="report-info">
            <span id="summaryCount">Items: 0</span>
            <span id="summaryTotal">Total: 0</span>
          </div>
        </div>

        <div id="reportArea" class="report-area">
          <p class="muted">No report yet. Paste items on the left and click <strong>Generate Report</strong>.</p>
        </div>

        <div class="report-controls">
          <button id="clearInput" class="btn ghost">Clear Input</button>
          <button id="exportCSV" class="btn">Export CSV</button>
          <button id="copyHTML" class="btn ghost">Copy HTML</button>
        </div>

        <div id="invalidLines" class="invalid-lines"></div>
      </section>
    </section>

    <footer class="app-footer">
      <small class="muted">Made with ❤️ — HTML · CSS · JavaScript. Saved locally in your browser.</small>
    </footer>
  </main>

  <script src="app.js"></script>
</body>
</html>
